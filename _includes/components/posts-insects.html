{% comment %}

	Editorial by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license

	Name:

		Posts

	Description:

		Generates a grid of content from post-like elements.

	Example:

		---
		my_posts_array:
		- image: /images/pic03.jpg
		    title: Magna feugiat lorem
			excerpt: Nunc blandit nisi ligula magna dolor sit.
			url: http://example.com
		- image: /images/pic01.jpg
			title: Lorem ipsum dolor
			excerpt: Nunc blandit nisi ligula magna dolor sit.
			url: http://example.com
		---

		{% include components/posts.html posts=page.my_posts_array %}

{% endcomment %}

{% assign page-title = page.title %}
{% assign post-insect = site.data.insect1 | where: 'scientific', page-title %}
{% assign full_name = post-insect[0].common | append: " (" | append: page.title | append: ")" %}
{% assign photo_index = 0 %}
{% assign photos = page.image %}


<!-- Posts -->
	<div class="posts">

		{% for post in include.posts %}

		{% unless photo_index == 0 %}
		{% assign photos = page.image | replace: ".jpg", "-" | append: photo_index | append: ".jpg" %}
		{% endunless %}
		{% assign photo_index = photo_index | plus: 1 %}




			<article>
				<a href="{{ photos }}" class="image" rel="lightbox" title="{{ full_name }}"><img src="{{ photos }}" alt="" /></a>
				<h3>{{ full_name }}</h3>
				<p>{{ post.excerpt | remove: "<p>" | remove: "</p>" }}</p>
			</article>

		{% endfor %}

	</div>